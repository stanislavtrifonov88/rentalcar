import React from 'react';
import Option from './Options';
import './Select.css';

export default class Select extends React.Component {

  constructor(props) {
    super(props);
    this.state = {
      selected: null,
      opened: false,
    };
  }

  onOpen = () => {
    this.setState({
      opened: !this.state.opened,
    });
  }

  onSelect = (data) => {
    this.setState({
      selected: data.option,
      opened: false,
    }, () => {
    });
    this.props.onChildClick(data)

  }

  getOptions = () => {
    return this.props.options.map((item) => <Option className="optionItem" key={item.key} option={item} dataFilter={this.props.dataFilter} onSelect={this.onSelect}  />);
  }

  handleClick = (event) => {
    this.props.onChildClick(event.target.name, this.props.contract.id)
  }

  render() {
    const items = this.getOptions();
    const selected = this.state.selected
      ? this.state.selected.value : this.props.type;
    const showHideClass = this.state.opened ? 'show' : 'hide';

    return (
      <div className="select" onClick={this.onOpen}>
        <span>
          {selected}
        </span>
        <ul className={showHideClass}>{items}</ul>
        <img className="dropDownArrow" alt="no input" src="data:image/jpeg;base64,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" />
      </div>
    );
  }
}
